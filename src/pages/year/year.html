<ion-header>
  <ion-navbar>
    <button ion-button
            menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>
      Year
    </ion-title>
  </ion-navbar>
</ion-header>
<ion-content>
  <ng-container *ngIf="year">
    <!-- Year selector -->
    <div class="year-selector">
      <div class="year-selector__previous">
        <button class="nav-button">
          <ion-icon name="arrow-back"></ion-icon>
        </button>
      </div>
      <div class="year-selector__current">{{ year.yearNumber }} </div>
      <div class="year-selector__next">
        <button class="nav-button">
          <ion-icon name="arrow-forward"></ion-icon>
        </button>
      </div>
    </div>

    <!-- Months grid -->
    <div class="custom-grid">

      <div class="custom-row"
           *ngFor="let monthRow of getRowsOfMonths()">

        <div class="custom-col"
             *ngFor="let month of monthRow">

          <!-- Month -->
          <table class="month"
                 (click)="showMonth(month)">
            <thead>
              <tr>
                <td colspan="7"
                    class="month__name">{{ getMonthName(month) }}</td>
              </tr>
            </thead>
            <tr>
              <td *ngFor="let dayOfWeek of getDaysOfWeek()"
                  class="month__day-of-week"
                  [class.month__day--sunday]="dayOfWeek.type == 'sunday'"
                  [class.month__day--saturday]="dayOfWeek.type == 'saturday'">{{ dayOfWeek.name }}</td>
            </tr>
            <tr *ngFor="let week of month.weeks"
                class="month__week">
              <td *ngFor="let day of week.days"
                  class="month__day"
                  [class.month__day--sunday]="day.isSunday()"
                  [class.month__day--saturday]="day.isSaturday()">
                {{ week.isFromPreviusNextMonth(day) ? '' : day.dayNumber }}
              </td>
            </tr>
          </table>

        </div>

      </div>

    </div>
  </ng-container>
</ion-content>
