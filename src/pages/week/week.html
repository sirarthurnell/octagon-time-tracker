<ion-header>
  <ion-navbar>
    <button ion-button
            menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>
      Week
    </ion-title>
  </ion-navbar>
</ion-header>
<ion-content padding>
  <ng-container *ngIf="week">


    <!-- Month selector -->
    <previous-next #previousNext
                   [text]="week.name"
                   (previous)="setPrevious()"
                   (next)="setNext()"
                   [textClass]="isThisWeek() ? 'current-time--inverted week__name' : 'week__name'">


      <!-- Graph (wrapper) -->
      <div class="week-graph">



        <!-- Actual graph -->
        <div class="week-graph__graph">


          <!-- Bar -->
          <div class="week-graph__bar"
               [style.height]="day.getTotalTimeAsPercent()"
               *ngFor="let day of week.days"
               (click)="showDay(day)">
            <div class="week-graph__hours">{{ day.getFormattedTotalTime() }}</div>
            <div class="week-graph__day-name">{{ day.name }}</div>
          </div>


          <!-- Average -->
          <div *ngIf="week.isWorked()"
               class="week-graph__average-line"
               [style.top]="(100 - week.getWorkedAverageTimeAsPercent()) + '%'">
            <div class="week-graph__average-label">{{ week.getFormattedWorkedAverageTime() }}</div>
          </div>



        </div>



      </div>


    </previous-next>
  </ng-container>
</ion-content>
